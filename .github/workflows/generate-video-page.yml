name: Generate Video Page

on:
  release:
    types: [published]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: ⬇️ Checkout repository
        uses: actions/checkout@v3

      - name: 📄 Generate demo.html
        run: |
          mkdir -p docs
          echo "<!DOCTYPE html>
<html lang='zh'>
<head>
  <meta charset='UTF-8'>
  <title>RPA 演示视频</title>
  <style>
    body { background:#111; display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; color:#fff; font-family:sans-serif; margin:0 }
    video { max-width:90%; border-radius:12px; border:2px solid #666 }
    h1 { margin-bottom:20px; }
  </style>
</head>
<body>
  <h1>🎬 RPA 视频演示</h1>
  <video src='${{ github.event.release.assets[0].browser_download_url }}' controls autoplay muted loop></video>
</body>
</html>" > docs/demo.html

      - name: 🚀 Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./docs
