# ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„è¯´æ˜

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº† RPA App é¡¹ç›®çš„ç›®å½•ç»“æ„å’Œå„æ–‡ä»¶çš„ä½œç”¨ã€‚

## ğŸŒ³ é¡¹ç›®æ ¹ç›®å½•ç»“æ„

```
auto-rpa-app/
â”œâ”€â”€ ğŸ“ android/                    # Android åŸç”Ÿä»£ç 
â”œâ”€â”€ ğŸ“ src/                        # React Native æºä»£ç 
â”œâ”€â”€ ğŸ“ doc/                        # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ“ test-scripts/               # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ ğŸ“ __tests__/                  # å•å…ƒæµ‹è¯•
â”œâ”€â”€ ğŸ“ __mocks__/                  # Jest Mock æ–‡ä»¶
â”œâ”€â”€ ğŸ“ .vscode/                    # VSCode é…ç½®
â”œâ”€â”€ ğŸ“ .husky/                     # Git hooks é…ç½®
â”œâ”€â”€ ğŸ“ node_modules/               # ä¾èµ–åŒ…ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ ğŸ“„ package.json                # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ ğŸ“„ package-lock.json           # ä¾èµ–ç‰ˆæœ¬é”å®š
â”œâ”€â”€ ğŸ“„ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ ğŸ“„ jest.config.js              # Jest æµ‹è¯•é…ç½®
â”œâ”€â”€ ğŸ“„ .eslintrc.js                # ESLint ä»£ç è§„èŒƒé…ç½®
â”œâ”€â”€ ğŸ“„ .prettierrc.js              # Prettier æ ¼å¼åŒ–é…ç½®
â”œâ”€â”€ ğŸ“„ commitlint.config.js        # Git æäº¤è§„èŒƒé…ç½®
â”œâ”€â”€ ğŸ“„ metro.config.js             # Metro æ‰“åŒ…é…ç½®
â”œâ”€â”€ ğŸ“„ babel.config.js             # Babel è½¬è¯‘é…ç½®
â”œâ”€â”€ ğŸ“„ react-native.config.js      # React Native é…ç½®
â”œâ”€â”€ ğŸ“„ README.md                   # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ ğŸ“„ QUICK_START.md              # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ ğŸ“„ CODE_STANDARDS.md           # ä»£ç è§„èŒƒæ–‡æ¡£
â”œâ”€â”€ ğŸ“„ DEBUGGING_GUIDE.md          # è°ƒè¯•æŒ‡å—
â”œâ”€â”€ ğŸ“„ ADB_PUSH_GUIDE.md           # ADB æ¨é€æŒ‡å—
â”œâ”€â”€ ğŸ“„ SCRIPT_ERROR_HANDLING.md    # è„šæœ¬é”™è¯¯å¤„ç†
â”œâ”€â”€ ğŸ“„ README_WEB_DEBUG.md         # Web è°ƒè¯•è¯´æ˜
â”œâ”€â”€ ğŸ“„ HUSKY_AND_IMPORT_CONFIG.md  # Husky é…ç½®æŒ‡å—
â”œâ”€â”€ ğŸ“„ DIRECTORY_STRUCTURE.md      # ç›®å½•ç»“æ„è¯´æ˜ï¼ˆæœ¬æ–‡æ¡£ï¼‰
â””â”€â”€ ğŸ“„ DOCUMENTATION_INDEX.md      # æ–‡æ¡£ç´¢å¼•
```

## ğŸ“‚ è¯¦ç»†ç›®å½•è¯´æ˜

### ğŸ¤– Android åŸç”Ÿä»£ç  (`android/`)

```
android/
â”œâ”€â”€ ğŸ“ app/                        # ä¸»åº”ç”¨æ¨¡å—
â”‚   â”œâ”€â”€ ğŸ“ src/main/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ java/com/rpaapp/    # Java/Kotlin æºä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MainActivity.java        # ä¸»æ´»åŠ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MainApplication.java     # åº”ç”¨å…¥å£
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ rpa/                     # RPA åŸç”Ÿæ¨¡å—
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ RPAModule.java       # RPA åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ RPAPackage.java      # RPA åŒ…æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ ğŸ“ res/                # Android èµ„æºæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ ğŸ“„ AndroidManifest.xml # åº”ç”¨æ¸…å•æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ build.gradle            # åº”ç”¨æ„å»ºé…ç½®
â”‚   â””â”€â”€ ğŸ“„ proguard-rules.pro      # ä»£ç æ··æ·†è§„åˆ™
â”œâ”€â”€ ğŸ“ gradle/wrapper/             # Gradle åŒ…è£…å™¨
â”œâ”€â”€ ğŸ“„ build.gradle                # é¡¹ç›®æ„å»ºé…ç½®
â”œâ”€â”€ ğŸ“„ gradle.properties           # Gradle å±æ€§é…ç½®
â”œâ”€â”€ ğŸ“„ gradlew                     # Gradle åŒ…è£…å™¨è„šæœ¬ï¼ˆUnixï¼‰
â”œâ”€â”€ ğŸ“„ gradlew.bat                 # Gradle åŒ…è£…å™¨è„šæœ¬ï¼ˆWindowsï¼‰
â””â”€â”€ ğŸ“„ settings.gradle             # Gradle è®¾ç½®
```

**å…³é”®æ–‡ä»¶è¯´æ˜**ï¼š

- `MainActivity.java`: React Native åº”ç”¨çš„ Android å…¥å£ç‚¹
- `RPAModule.java`: å®ç° RPA è‡ªåŠ¨åŒ–åŠŸèƒ½çš„åŸç”Ÿæ¨¡å—
- `AndroidManifest.xml`: å®šä¹‰åº”ç”¨æƒé™å’Œç»„ä»¶

### ğŸ“± React Native æºä»£ç  (`src/`)

```
src/
â”œâ”€â”€ ğŸ“ components/                 # React ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ ScriptEditor.tsx        # è„šæœ¬ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ ScriptList.tsx          # è„šæœ¬åˆ—è¡¨ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ LogViewer.tsx           # æ—¥å¿—æŸ¥çœ‹å™¨ç»„ä»¶
â”‚   â””â”€â”€ ğŸ“„ StatusBar.tsx           # çŠ¶æ€æ ç»„ä»¶
â”œâ”€â”€ ğŸ“ services/                   # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“„ HttpService.ts          # HTTP æœåŠ¡å™¨æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“„ ScriptService.ts        # è„šæœ¬ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“„ FileService.ts          # æ–‡ä»¶æ“ä½œæœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“„ LogService.ts           # æ—¥å¿—æœåŠ¡
â”‚   â””â”€â”€ ğŸ“„ ScriptErrorAnalyzer.ts  # è„šæœ¬é”™è¯¯åˆ†æå™¨
â”œâ”€â”€ ğŸ“ utils/                      # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ğŸ“„ constants.ts            # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ ğŸ“„ helpers.ts              # è¾…åŠ©å‡½æ•°
â”‚   â””â”€â”€ ğŸ“„ types.ts                # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ ğŸ“ web-debug/                  # Web è°ƒè¯•ç•Œé¢
â”‚   â”œâ”€â”€ ğŸ“„ index.html              # Web è°ƒè¯•ä¸»é¡µé¢
â”‚   â”œâ”€â”€ ğŸ“„ script.js               # Web è°ƒè¯•è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ style.css               # Web è°ƒè¯•æ ·å¼
â”‚   â””â”€â”€ ğŸ“„ README.md               # Web è°ƒè¯•è¯´æ˜
â”œâ”€â”€ ğŸ“ assets/                     # é™æ€èµ„æº
â”‚   â”œâ”€â”€ ğŸ“ images/                 # å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ ğŸ“ fonts/                  # å­—ä½“èµ„æº
â””â”€â”€ ğŸ“„ App.tsx                     # åº”ç”¨æ ¹ç»„ä»¶
```

**å…³é”®æ–‡ä»¶è¯´æ˜**ï¼š

- `App.tsx`: React Native åº”ç”¨çš„ä¸»å…¥å£ç»„ä»¶
- `HttpService.ts`: æä¾› HTTP æœåŠ¡å™¨åŠŸèƒ½ï¼Œæ”¯æŒ Web è°ƒè¯•
- `ScriptService.ts`: ç®¡ç†è„šæœ¬çš„åŠ è½½ã€æ‰§è¡Œå’Œä¿å­˜
- `ScriptErrorAnalyzer.ts`: åˆ†æå’Œå¤„ç†è„šæœ¬æ‰§è¡Œé”™è¯¯

### ğŸ“š æ–‡æ¡£ç›®å½• (`doc/`)

```
doc/
â”œâ”€â”€ ğŸ“„ PROJECT_OVERVIEW.md         # é¡¹ç›®æ¦‚è§ˆ
â”œâ”€â”€ ğŸ“„ DEVELOPMENT_COMMANDS.md     # å¼€å‘å‘½ä»¤æ‰‹å†Œ
â”œâ”€â”€ ğŸ“„ SCRIPT_USAGE.md             # è„šæœ¬ä½¿ç”¨æŒ‡å—
â””â”€â”€ ğŸ“„ RPA_MODULE_README.md        # RPA æ¨¡å—æ–‡æ¡£
```

### ğŸ§ª æµ‹è¯•ç›¸å…³

```
__tests__/
â”œâ”€â”€ ğŸ“„ App.test.tsx                # åº”ç”¨ç»„ä»¶æµ‹è¯•
â”œâ”€â”€ ğŸ“„ ScriptService.test.ts       # è„šæœ¬æœåŠ¡æµ‹è¯•
â””â”€â”€ ğŸ“„ HttpService.test.ts         # HTTP æœåŠ¡æµ‹è¯•

__mocks__/
â”œâ”€â”€ ğŸ“„ @react-native-community/    # React Native ç¤¾åŒºæ¨¡å— Mock
â”œâ”€â”€ ğŸ“„ react-native-fs.js          # æ–‡ä»¶ç³»ç»Ÿæ¨¡å— Mock
â””â”€â”€ ğŸ“„ react-native-http-bridge.js # HTTP æ¡¥æ¥æ¨¡å— Mock

test-scripts/
â”œâ”€â”€ ğŸ“„ README.md                   # æµ‹è¯•è„šæœ¬è¯´æ˜
â”œâ”€â”€ ğŸ“„ basic-test.js               # åŸºç¡€åŠŸèƒ½æµ‹è¯•è„šæœ¬
â”œâ”€â”€ ğŸ“„ ui-automation.js            # UI è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
â””â”€â”€ ğŸ“„ network-test.js             # ç½‘ç»œåŠŸèƒ½æµ‹è¯•è„šæœ¬
```

### âš™ï¸ é…ç½®æ–‡ä»¶

```
.vscode/
â”œâ”€â”€ ğŸ“„ settings.json               # VSCode å·¥ä½œåŒºè®¾ç½®
â””â”€â”€ ğŸ“„ launch.json                 # è°ƒè¯•é…ç½®

.husky/
â”œâ”€â”€ ğŸ“„ pre-commit                  # æäº¤å‰é’©å­
â””â”€â”€ ğŸ“„ commit-msg                  # æäº¤ä¿¡æ¯é’©å­
```

## ğŸ”§ é‡è¦é…ç½®æ–‡ä»¶è¯¦è§£

### ğŸ“¦ `package.json`

é¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ï¼š

- é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€ç‰ˆæœ¬ã€æè¿°ï¼‰
- ä¾èµ–åŒ…åˆ—è¡¨ï¼ˆdependencies å’Œ devDependenciesï¼‰
- NPM è„šæœ¬å‘½ä»¤
- React Native å’Œ TypeScript é…ç½®

### ğŸ” `tsconfig.json`

TypeScript ç¼–è¯‘é…ç½®ï¼š

- ç¼–è¯‘é€‰é¡¹ï¼ˆtargetã€moduleã€lib ç­‰ï¼‰
- è·¯å¾„æ˜ å°„ï¼ˆbaseUrlã€pathsï¼‰
- ç±»å‹æ£€æŸ¥ä¸¥æ ¼æ€§è®¾ç½®

### ğŸ¨ `.eslintrc.js`

ESLint ä»£ç è§„èŒƒé…ç½®ï¼š

- ç»§æ‰¿çš„è§„åˆ™é›†ï¼ˆ@react-nativeã€TypeScriptï¼‰
- è‡ªå®šä¹‰è§„åˆ™
- æ–‡ä»¶ç±»å‹ç‰¹æ®Šé…ç½®

### ğŸ’… `.prettierrc.js`

Prettier ä»£ç æ ¼å¼åŒ–é…ç½®ï¼š

- ç¼©è¿›ã€å¼•å·ã€åˆ†å·ç­‰æ ¼å¼è§„åˆ™
- ä¸åŒæ–‡ä»¶ç±»å‹çš„è¦†ç›–è®¾ç½®

### ğŸš€ `metro.config.js`

Metro æ‰“åŒ…å·¥å…·é…ç½®ï¼š

- æ–‡ä»¶è§£æè§„åˆ™
- è½¬æ¢å™¨é…ç½®
- èµ„æºå¤„ç†

## ğŸ“ ç›®å½•ä½¿ç”¨æŒ‡å—

### ğŸ†• æ·»åŠ æ–°åŠŸèƒ½

1. **React ç»„ä»¶**: åœ¨ `src/components/` æ·»åŠ æ–°ç»„ä»¶
2. **ä¸šåŠ¡é€»è¾‘**: åœ¨ `src/services/` æ·»åŠ æœåŠ¡ç±»
3. **å·¥å…·å‡½æ•°**: åœ¨ `src/utils/` æ·»åŠ è¾…åŠ©å‡½æ•°
4. **åŸç”ŸåŠŸèƒ½**: åœ¨ `android/app/src/main/java/com/rpaapp/` æ·»åŠ åŸç”Ÿæ¨¡å—

### ğŸ§ª æ·»åŠ æµ‹è¯•

1. **å•å…ƒæµ‹è¯•**: åœ¨ `__tests__/` æ·»åŠ å¯¹åº”çš„æµ‹è¯•æ–‡ä»¶
2. **Mock æ–‡ä»¶**: åœ¨ `__mocks__/` æ·»åŠ æ¨¡å— Mock
3. **æµ‹è¯•è„šæœ¬**: åœ¨ `test-scripts/` æ·»åŠ åŠŸèƒ½æµ‹è¯•è„šæœ¬

### ğŸ“ æ·»åŠ æ–‡æ¡£

1. **åŠŸèƒ½æ–‡æ¡£**: åœ¨ `doc/` æ·»åŠ è¯¦ç»†è¯´æ˜
2. **ä½¿ç”¨æŒ‡å—**: åœ¨æ ¹ç›®å½•æ·»åŠ ç”¨æˆ·æŒ‡å—
3. **æ›´æ–°ç´¢å¼•**: åœ¨ `DOCUMENTATION_INDEX.md` ä¸­æ·»åŠ é“¾æ¥

## ğŸ” æ–‡ä»¶æŸ¥æ‰¾æŠ€å·§

### æŒ‰åŠŸèƒ½æŸ¥æ‰¾

- **HTTP æœåŠ¡**: `src/services/HttpService.ts`
- **è„šæœ¬ç®¡ç†**: `src/services/ScriptService.ts`
- **é”™è¯¯å¤„ç†**: `src/services/ScriptErrorAnalyzer.ts`
- **Web è°ƒè¯•**: `src/web-debug/`
- **åŸç”Ÿ RPA**: `android/app/src/main/java/com/rpaapp/rpa/`

### æŒ‰æ–‡ä»¶ç±»å‹æŸ¥æ‰¾

- **é…ç½®æ–‡ä»¶**: æ ¹ç›®å½•çš„ `.js`ã€`.json` æ–‡ä»¶
- **æ–‡æ¡£æ–‡ä»¶**: æ ¹ç›®å½•å’Œ `doc/` ç›®å½•çš„ `.md` æ–‡ä»¶
- **æµ‹è¯•æ–‡ä»¶**: `__tests__/` ç›®å½•çš„ `.test.ts` æ–‡ä»¶
- **è„šæœ¬æ–‡ä»¶**: `test-scripts/` ç›®å½•çš„ `.js` æ–‡ä»¶

## ğŸ“‹ ç»´æŠ¤å»ºè®®

### ğŸ§¹ å®šæœŸæ¸…ç†

- åˆ é™¤æœªä½¿ç”¨çš„æ–‡ä»¶å’Œä¾èµ–
- æ¸…ç†æ„å»ºäº§ç‰©ï¼ˆ`android/app/build/`ï¼‰
- æ›´æ–°è¿‡æ—¶çš„æ–‡æ¡£

### ğŸ“Š ç»“æ„ä¼˜åŒ–

- ä¿æŒç›®å½•ç»“æ„æ¸…æ™°
- é¿å…æ·±å±‚åµŒå¥—
- æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç 

### ğŸ“š æ–‡æ¡£åŒæ­¥

- æ–°å¢åŠŸèƒ½æ—¶åŒæ­¥æ›´æ–°æ–‡æ¡£
- ä¿æŒç›®å½•ç»“æ„æ–‡æ¡£çš„å‡†ç¡®æ€§
- å®šæœŸæ£€æŸ¥æ–‡æ¡£é“¾æ¥çš„æœ‰æ•ˆæ€§

---

**æœ€åæ›´æ–°**: 2024 å¹´ 12 æœˆ **ç»´æŠ¤è€…**: RPA App å¼€å‘å›¢é˜Ÿ
